# 일관된 코딩 스타일을 고수하라
<br/>

문법적으로 올바른 문장을 쓰려면 지켜야 할 규칙들이 있다. 이에 더해 잘 읽히는 문장을 쓰기 위해 따라야 할 문체에 관한 지침들도 있다.

코드도 마찬가지다. 프로그래밍 언어의 구문과 컴파일러는 (문법 규칙처럼) 허용되는 것을 규정하지만 개발자가 코드를 작성함에 따라 어떤 스타일로 작성할지는 상당히 자유롭다.
<br/>
<br/>
## 1. 일관적이지 않은 코딩 스타일은 혼동을 일으킬 수 있다.
예제 5.11 코드는 사용자 그룹 간의 대화를 관리하기 위한 클래스를 보여준다. 이 클래스는 여러 그룹 채팅을 동시에 관리하는 서버 내에서 사용된다.
클래스에는 end() 함수가 포함되어 있으며, 이 함수가 호출되면 해당 채팅의 모든 사용자 연결을 끊고 채팅을 종료한다.

코드 작성 시 클래스 이름은 일반적으로 첫 글자를 대문자로 시작하는 **파스칼 케이스**(PascalCase)로 작성되는 반면
변수 이름은 첫 글자를 소문자로 시작하는 **캐멀 케이스**(camelCase)로 작성된다.

따라서 전체 클래스 정의를 확인하지 않고도 connectionManager가 GroupChat 클래스 내의 인스턴스 변수라고 확실하게 가정할 수 있다.
따라서 connectionManager.terminateAll()은 주어진 채팅에 대한 연결을 종료하고 서버가 관리하는 다른 채팅은 영향을 받지 않을 것이다.

#### [예제 5.11] 일관성 없는 명명 스타일
```java
class GroupChat {
  ...

  end() {
    connectionManager.terminateAll();  // connectionManager는 인스턴스 변수라고 가정한다.
  }
}
```
불행하게도 우리의 가정은 잘못됐고, 이 코드는 작동하지 않는다. connectionManager는 인스턴스 변수가 아니라 클래스 이름이고 terminateAll()은 그 클래스의 정적 함수다.
connectionManager.terminateAll()은 GroupChat 클래스의 특정 인스턴스와 관련된 연결만 종료하는 것이 아니고 서버가 관리하는 모든 채팅에 대한 연결을 종료한다.

다음 예제 코드는 connectionManager 클래스를 보여준다.
#### [예제 5.12] connectionManager 클래스
```java
class connectionManager {
  ...
  static teminateAll() {  // 서버가 현재 유지하고 있는 모든 연결을 종료한다.
    ...
  }
}
```
connectionManager 클래스가 표준 명명 규칙을 따라 ConnectionManager라는 이름으로 작성됐더라면 이 버그는 발견되었을 것이다(그리고 수정됐을 것이다).
이 명명 규칙을 따르지 않음으로써 connectionManager 클래스를 사용할 때 인스턴스 변수라고 오해하기 쉽고, 이로 인해 눈에 띄지 않는 심각한 버그를 초래할 수 있다.

## 2. 해결책: 스타일 가이드를 채택하고 따르라
앞에서 언급했듯이 일반적인 코딩 스타일 규칙에 의하면 클래스 이름은 파스칼 케이스로, 변수 이름은 캐멀 케이스로 작성해야 한다.
이 규약을 따른다면 connectionManager 클래스는 ConnectionManager로 명명되어야 한다. 이렇게 명명한다면 이전 절의 코드는 예제 5.13과 같을 것이다.

이제 ConnectionManager는 GroupChat 클래스 내에서 인스턴스 변수가 아닌 클래스라는 것을 분명하게 알 수 있다.
또한, ConnectionManager.terminateAll()과 같은 호출은 서비스 전체의 상태를 변경하며 서버의 다른 부분에 영향을 미칠 가능성이 있다는 점도 명백해졌다.

#### [예제 5.13] 일관된 명명 스타일
```java
class GroupChat {
  ...

  end() {
    ConnectionsManager.terminateAll();  // ConnectionManager는 인스턴스 변수가 아니라 클래스라는 것이 명백하다
  }
}
```
이것은 **일관된 코딩 스타일을 따라 코드를 작성하면 가독성이 좋아지고 버그를 예방**하는 데 도움이 된다는 것을 보여주는 하나의 사례일 뿐이다.
코딩 스타일은 명명법 이상의 많은 측면을 다루는데 다음과 같다.
- 언어의 특정 기능 사용
- 코드 들여쓰기
- 패키지 및 디렉터리 구조화
- 코드 문서화 방법

대부분의 조직과 팀들은 개발자들이 따라야 할 코딩 스타일 가이드를 이미 가지고 있을 것이기 때문에 어떤 스타일을 채택해야 할지 여러분이 고민할 필요는 없을 것이다.
팀이 요구하는 스타일 가이드를 읽고 파악한 후에 그대로 따르면 된다.

여러분의 팀에 아직 스타일 가이드가 없어서 하나를 정하고 싶다면, 이미 공개되고 제안된 것 중에서 채택할 수 있는 것들이 많다.
예를 들어 구글은 여러 언어에 대한 스타일 가이드를 제시하고 있다(https://google.github.io/styleguide/).

팀이나 조직 전체가 같은 코딩 스타일을 따르면, 그것은 마치 모두가 같은 언어를 유창하게 말하는 것과 비슷하다.
서로 오해할 위험이 크게 줄어들고, 이로 인해 버그가 줄어들고, 혼란스러운 코드를 이해하는 데 낭비하는 시간이 줄어든다.

#### [린터(linter)]
스타일 가이드를 따르지 않은 코드를 찾아 알려주는 도구도 있다. 이런 도구를 린터라고 부르고 일반적으로 사용하는 언어에 따라 다르다.
일부 린터는 스타일 가이드 위반을 확인하는 것 이상의 많은 것을 하며 오류가 발생하거나 알려져 있지 않은 나쁜 관행을 따라 작성된 코드가 있다면 이에 대해 경고할 수도 있다.<br/>
린터는 일반적으로 아주 간단한 문제만 잡기 때문에 처음부터 좋은 코드를 작성하는 것을 대체할 수는 없다. 하지만 린터는 코드를 개선하기 위한 빠르고 쉬운 방법이다.
