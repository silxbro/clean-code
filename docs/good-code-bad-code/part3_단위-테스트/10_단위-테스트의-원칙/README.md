## 10장 : 단위 테스트의 원칙
단위 테스트 코드 작성에 영향을 미치는 여러 원칙과 보다 높은 수준의 고려 사항을 소개한다.
- 단위 테스트의 기본 사항
- 좋은 단위 테스트가 되기 위한 조건
- 테스트 더블
- 테스트 철학

개발자가 코드를 수정할 때 무심결에 잘 작동하던 코드를 돌아가지 않게 만들거나, 실수를 저지를 위험이 항상 도사리고 있다.
심지어 아주 사소하고 좋은 의도에서 변경된 것처럼 보여도 나쁜 결과를 가져올 수 있다. 시스템이 멈추면 개발자가 하는 유명한 말이 있다. "딱 한 줄 고쳤는데요."
코드 변경은 언제나 위험하기 때문에 코드가 처음 작성될 때 그리고 수정될 때마다 코드가 의도한 대로 작동한다는 것을 스스로 확신할 수 있는 방법이 필요하다.
테스트는 이런 확신을 하기 위한 주된 방법이다.

개발자로서 우리는 보통 자동화된 테스트를 작성하는 데 집중한다. 즉, '실제' 코드가 올바르게 작동하는지 확인하기 위해 '실제' 코드를 실행해보는 테스트 코드를 작성한다.
1장에서는 테스트 수준이 어떻게 다른지, 특히 단위 테스트가 어떻게 개발자의 일상적인 작업에서 가장 자주 다루는 테스트 수준인지를 살펴봤다.
따라서 우리는 이 마지막 두 장에서 단위 테스트를 집중적으로 살펴본다.

이 시점에서 **단위 테스트**(unit test)에 대한 정확한 정의를 내리는 것이 유용할 테지만, 안타깝게도 정확하게 내려진 정의가 없다.
단위 테스트는 상대적으로 격리된 방식으로 코드의 구별되는 단위를 테스트하는 것에 관한 것이다.
**코드의 단위**(unit of code)라는 것이 정확히 의미하는 바는 다양할 수 있지만, 특정 클래스, 함수, 코드 파일을 의미할 때가 많다.
**상대적으로 격리된 방식**(relatively isolated manner)이라고 할 때 이것이 의미하는 바도 역시 다양하고 해석의 여지가 있다.
대부분의 코드는 격리되어 있지 않고, 다른 수많은 코드에 의존한댜.
10.4.6절에서 살펴보겠지만, 어떤 개발자들은 단위 테스트에서 테스트 대상이 되는 코드가 의존하는 코드를 차단하려고 하는 반면,
다른 개발자들은 의존하는 코드를 포함해서 테스트하는 것을 선호한다.

단위 테스트에 대한 정확한 정의가 없다고 해도 일반적으로 큰 문제가 되지 않는다.
단위 테스트를 구성하고 있는 것이 정확히 무엇인지, 그리고 정확한 정의가 없음에도 일부러 정의를 고안해 내고 자신이 작성하는 테스트가 그 정의에 정확히 부합하는지에 대해
너무 집착하지 않는 것이 좋다. 궁극적으로 중요한 것은 코드를 잘 테스트하고 이 작업을 유지보수할 수 있는 방법으로 수행하는 점이다.
이 장에서는 이를 달성하는 데 도움이 될 수 있도록 단위 테스트의 몇 가지 핵심 원칙을 다룬다. 11장에서는 이를 바탕으로 여러 가지 실제적인 기법을 논의할 것이다.
