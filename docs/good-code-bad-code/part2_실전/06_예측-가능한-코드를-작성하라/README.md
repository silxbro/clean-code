## 6장 : 예측 가능한 코드를 작성하라
예상 가능한 코드를 작성하는 방법에 대해 다루는데, 이를 통해 다른 개발자가 코드를 잘못 해석하지 않도록 함으로써 버그 발생 가능성을 최소화한다.
- 코드가 어떻게 예측을 벗어나 작동할 수 있는지
- 소프트웨어에서 예측을 벗어나는 코드가 어떻게 버그로 이어질 수 있는지
- 코드가 예측을 벗어나지 않도록 보장하는 방법

2장과 3장에서 코드가 계층으로 이루어지고, 상위 계층의 코드는 하위 계층의 코드에 의존하는 것을 살펴보았다. 코드를 작성할 때 그 코드는 훨씬 더 큰 코드베이스의 일부분일 뿐이다.
우리는 다른 개발자가 작성한 코드에 기반해서 코드를 작성하고, 다른 개발자들은 다시 우리가 작성한 코드에 기반해서 자신의 코드를 작성한다.
이를 위해 개발자는 코드가 무엇을 하며, 어떻게 사용해야 하는지 이해해야 한다.

3장에서는 자신이 작성한 코드를 어떻게 사용해야 할지 다른 개발자에게 이해시키기 위한 방법으로서의 코드 계약을 살펴봤다. 
코드 계약에서 이름, 매개변수 유형, 반환 유형과 같은 것들은 명백하지만 주석문과 문서화는 세부 조항에 가깝고 무시될 때가 많다.

궁극적으로 개발자는 코드를 사용하는 방법에 대한 정신 모델을 구축한다.
이 정신 모델은 코드 계약에서 발견한 것, 사전 지식, 적용할 수 있다고 생각하는 공통 패러다임에 근거해서 만들어진다.
코드가 실제로 하는 일이 이 정신 모델과 일치하지 않는다면, 예측과 벗어나는 기분 나쁜 일이 일어날 가능성이 크다.
최상의 경우라도 코드 이해와 작성에 들어가는 시간이 다소 낭비될 수 있고 최악의 경우에는 치명적인 버그가 발생할 수 있다.

예측 가능한 코드를 작성하는 것은 무언가를 분명하게 하는 것일 때가 많다.
함수가 아무것도 반환하지 않을 때가 있거나 처리해야 할 특별한 시나리오가 있는 경우 이 사실을 다른 개발자에게 확실하게 알려야 한다.
그렇지 않으면 코드의 동작이 그들이 실제 일어날 것이라고 생각하는 것과 일치하지 않을 위험이 있다.
이번 장에서는 코드가 예측을 벗어나 동작하게 되는 일반적인 몇 가지 경우와 이를 피하기 위한 기술을 살펴본다.

### [요약]
- 다른 개발자가 작성하는 코드는 종종 우리가 작성하는 코드에 의존한다.
  - 다른 개발자가 우리 코드의 기능을 잘못 해석하거나 처리해야 하는 특수한 경우를 발견하지 못하면, 우리가 작성한 코드에 기반한 그 코드에서 버그가 발생할 가능성이 크다.
  - 코드를 호출하는 쪽에서 예상한대로 동작하기 위한 좋은 방법 중 하나는 중요한 세부 사항이 코드 계약의 명백한 부분에 포함되도록 하는 것이다.
- 우리가 사용하는 코드에 대해 허술하게 가정을 하면 예상을 벗어나는 또 다른 결과를 볼 수 있다.
  - 예를 들어 열거형에 추가되는 새 값을 예상하지 못한 경우다
  - 의존해서 사용 중인 코드가 가정을 벗어날 경우, 코드 컴파일을 중지하거나 테스트가 실패하도록 하는 것이 중요하다.
- 테스트만으로는 예측을 벗어나는 코드의 문제를 해결할 수 없다. 다른 개발자가 코드를 잘못 해석하면 테스트해야 할 시나리오도 잘못 이해할 수 있다.
