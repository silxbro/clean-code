## 9장 : 코드를 재사용하고 일반화할 수 있도록 하라
코드를 재사용하고 일반화하는 방법을 다룬다.
<br/>
이를 통해 이미 작성된 것을 처음부터 다시 작성하지 않고도 새로운 기능을 쉽고 안전하게 추가할 수 있다.
- 안전하게 재사용할 수 있는 코드 작성 방법
- 다양한 문제를 해결하기 위해 일반화된 코드를 작성하는 방법

2장에서 상위 수준의 문제를 해결할 때 일련의 하위 문제로 세분화해서 해결하는 방법에 대해 논의했다.
프로젝트를 연이어 하다 보면 종종 동일한 하위 문제들이 계속해서 나오는 것을 발견한다.
다른 개발자가 이미 주어진 하위 문제를 해결했다면, 해당 문제에 대한 해결책을 재사용하는 것이 타당하다.
이렇게 하면 시간을 절약할 수 있고, 재사용하는 코드는 이미 테스트되고 실행되었기 때문에 버그 발생 가능성도 줄어든다.

하지만 안타깝게도 하위 문제에 대한 해결책이 이미 존재한다고 해서 항상 재사용할 수 있는 것은 아니다.
다른 개발자가 구현한 해결책이 자신의 사례에 맞지 않는 가정을 하거나, 그 해결책이 자신에게는 필요 없는 다른 기능과 함께 구성된 경우 이러한 문제가 발생할 수 있다.
따라서 이 점을 적극적으로 고려하여 향후에 재사용이 가능하도록 의도적으로 코드를 작성하고 구조화하는 것이 바람직하다.
이것은 초기에 노력이 좀 더 필요할 수 있지만(대개의 경우 아주 많이 필요하지는 않다) 장기적으로 보면 자신과 팀 동료들의 시간과 노력을 절약할 수 있다.

이번 장은 간결한 추상화 계층을 만들고(2장) 코드를 모듈화하는 것(8장)과 매우 깊은 관련이 있다.
간결한 추상화 계층을 만들고 코드를 모듈화하면 하위 문제의 해결책이 서로 느슨하게 결합하는 코드로 나누어지는 경향이 있다.
이렇게 되면 보통 코드를 재사용하고 일반화하기가 훨씬 더 쉽고 안전해진다.
그러나 2장과 8장에서 논의한 내용만이 코드를 재사용하고 일반화하기 위한 고려 사항은 아니다. 이번 장에서는 몇 가지 추가적인 사항에 대해 살펴본다.

### [요약]
- 동일한 하위 문제가 자주 발생하므로 코드를 재사용하면 미래의 자신과 팀 동료의 시간과 노력을 절약할 수 있다.
- 다른 개발자가 여러분이 해결하려는 문제와는 다른 상위 수준의 문제를 해결하더라도 특정 하위 문제에 대해서는 여러분이 작성한 해결책을 사용할 수 있도록
  근본적인 하위 문제를 식별하고 코드를 구성하도록 노력해야 한다.
- 간결한 추상화 계층을 만들고 코드를 모듈식으로 만들면 코드를 재사용하고 일반화하기가 훨씬 쉽고 안전해진다.
- 가정을 하게 되면 코드는 종종 더 취약해지고 재사용하기 어렵다는 측면에서 비용이 발생한다.
  - 가정을 하는 경우의 이점이 비용보다 큰지 확인하라.
  - 가정을 해야 할 경우 그 가정이 코드의 적절한 계층에 대해 이루어지는 것인지 확인하고 가능하다면 가정을 강제적으로 적용하라.
- 전역 상태를 사용하면 특히 비용이 많이 발생하는 가정을 하는 것이 되고 재사용하기에 전혀 안전하지 않은 코드가 된다. 대부분의 경우 전역 상태를 피하는 것이 가장 바람직하다.
